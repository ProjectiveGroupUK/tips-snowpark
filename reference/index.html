
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../tips_conventions/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>Reference Guide - TiPS (Snowpark) Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#reference-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="TiPS (Snowpark) Documentation" class="md-header__button md-logo" aria-label="TiPS (Snowpark) Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            TiPS (Snowpark) Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Reference Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ProjectiveGroupUK/tips-snowpark" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ProjectiveGroupUK/tips-snowpark
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="TiPS (Snowpark) Documentation" class="md-nav__button md-logo" aria-label="TiPS (Snowpark) Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    TiPS (Snowpark) Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ProjectiveGroupUK/tips-snowpark" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    ProjectiveGroupUK/tips-snowpark
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tips_conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TiPS Conventions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Reference Guide
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Reference Guide
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metadata-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata Tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Metadata Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#process" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_cmd" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_CMD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_log" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_LOG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_dq_test" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_DQ_TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_cmd_tgt_dq_test" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_CMD_TGT_DQ_TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_dq_log" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_DQ_LOG
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-types" class="md-nav__link">
    <span class="md-ellipsis">
      Command Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#append" class="md-nav__link">
    <span class="md-ellipsis">
      APPEND
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_into_file" class="md-nav__link">
    <span class="md-ellipsis">
      COPY_INTO_FILE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_into_table" class="md-nav__link">
    <span class="md-ellipsis">
      COPY_INTO_TABLE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    <span class="md-ellipsis">
      DELETE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dq_test" class="md-nav__link">
    <span class="md-ellipsis">
      DQ_TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge" class="md-nav__link">
    <span class="md-ellipsis">
      MERGE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#publish_scd2_dim" class="md-nav__link">
    <span class="md-ellipsis">
      PUBLISH_SCD2_DIM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refresh" class="md-nav__link">
    <span class="md-ellipsis">
      REFRESH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truncate" class="md-nav__link">
    <span class="md-ellipsis">
      TRUNCATE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proc" class="md-nav__link">
    <span class="md-ellipsis">
      PROC
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metadata-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata Tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Metadata Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#process" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_cmd" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_CMD
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_log" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_LOG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_dq_test" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_DQ_TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_cmd_tgt_dq_test" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_CMD_TGT_DQ_TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_dq_log" class="md-nav__link">
    <span class="md-ellipsis">
      PROCESS_DQ_LOG
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-types" class="md-nav__link">
    <span class="md-ellipsis">
      Command Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#append" class="md-nav__link">
    <span class="md-ellipsis">
      APPEND
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_into_file" class="md-nav__link">
    <span class="md-ellipsis">
      COPY_INTO_FILE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy_into_table" class="md-nav__link">
    <span class="md-ellipsis">
      COPY_INTO_TABLE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    <span class="md-ellipsis">
      DELETE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dq_test" class="md-nav__link">
    <span class="md-ellipsis">
      DQ_TEST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge" class="md-nav__link">
    <span class="md-ellipsis">
      MERGE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#publish_scd2_dim" class="md-nav__link">
    <span class="md-ellipsis">
      PUBLISH_SCD2_DIM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refresh" class="md-nav__link">
    <span class="md-ellipsis">
      REFRESH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truncate" class="md-nav__link">
    <span class="md-ellipsis">
      TRUNCATE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proc" class="md-nav__link">
    <span class="md-ellipsis">
      PROC
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="reference-guide">Reference Guide</h1>
<h2 id="metadata-tables">Metadata Tables</h2>
<h3 id="process">PROCESS</h3>
<p>This is the table where you define information about data pipeline e.g., Name of Pipeline and other information.</p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PROCESS_ID</td>
<td>Sequentially generated ID.<p> This is defined as Auto increment on table, so doesn't need to be included in DMLs</p></td>
</tr>
<tr>
<td>PROCESS_NAME</td>
<td>Enter Name of Data Pipeline.<p> This value is passed as parameters when TiPS is executed. <br><strong>No whitespaces to be used in process name and preferably use Uppercase</strong></p></td>
</tr>
<tr>
<td>PROCESS_DESCRIPTION</td>
<td>Description about Data Pipeline.<p> This is optional field, but good to have proper description about the pipeline for others to easily understand</p></td>
</tr>
<tr>
<td>ACTIVE</td>
<td>Active (Y) / Inactive (N) flag.<p> When set to N (inactive), data pipeline can be disabled and TiPS will not execute it</p></td>
</tr>
</tbody>
</table>
<h3 id="process_cmd">PROCESS_CMD</h3>
<p>This is the table where you populate information about each step in a data pipeline. There are several columns in this table, some of which are specific to command types. Out of those some are mandatory, and some are optional. Further details about command types are documented <a href="#command-types">below</a> </p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PROCESS_ID</td>
<td>Foreign Key to PROCESS_ID in PROCESS table<p>This needs to match ID of data pipeline defined in PROCESS table</p></td>
</tr>
<tr>
<td>PROCESS_CMD_ID</td>
<td>Manually assigned sequential ID for Data Pipeline Step<p>When TiPS is executed, steps of a data pipeline run serially in sequential order. Order of the step is identified using this ID. It is advisable to leave gaps between the IDs when setting up the data pipeline initially, so that if there is a need to add an interim step later, it can be inserted in between without needing to reassign all IDs. E.g., 10,20,30,40... or 100,200,300,400... can be assigned initially which leave sufficient gap for steps to be inserted in between, if need be, later. Also in a big team, where multiple data engineers might be working on same data pipeline in same development iteration (sprint), mechanism needs to be in place so that data engineers don't end up using overlapping IDs</p></td>
</tr>
<tr>
<td>CMD_TYPE</td>
<td>This describes the operation type. Further details are given <a href="#command-types">below</a> <p>E.g., APPEND / REFRESH / DELETE / TRUNCATE etc. <br><strong>All CAPS without spaces</strong></br></p></td>
</tr>
<tr>
<td>CMD_SRC</td>
<td>Specify the name of source of data here. <p>This is usually a data table or a view that encapsulates the transformation business logic. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_TGT</td>
<td>Specify the name of target destination of data here. <p>This is usually a table. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_WHERE</td>
<td>This is where you can specify a filter clause that gets added to source as a WHERE clause at run time. <p><strong>WHERE</strong> keyword should not be included and numbered bind variables can be used for which actual bind replacements are mentioned in CMD_BINDS <br><strong>E.g.</br><p>"C_MKTSEGMENT = :2 AND COBID = :1"</strong></p>In the above example values for bind variables are passed at run time, and derivation of value for bind variable according to the sequence is derived from CMD_BINDS</p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpreted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
<tr>
<td>REFRESH_TYPE</td>
<td>This is only applicable for REFRESH command type. Acceptable values are <strong>DI/TI/OI</strong> <p><strong>DI (Delete Insert)</strong> - Before inserting the data in target, a delete command is run (where optionally filter clause can be added through CMD_WHERE).</p><p><strong>TI (Truncate Insert)</strong> - Before inserting the data in target, truncate command on target is run.</p><p><strong>OI (Overwrite Insert)</strong> - Before inserting the data in target, any existing data is removed from target. This works similar to truncate, with the caveat that TRUNCATE is a DDL command invoking a commit to the transaction where OVERWRITE doesn't commits the transaction immediately after delete, thus tables is rolled back to previous state if INSERT DML throws an error.</p></td>
</tr>
<tr>
<td>BUSINESS_KEY</td>
<td>This is only applicable for PUBLISH_SCD2_DIM command type. It is column(s) delimited by Pipe <strong>"|"</strong> symbol that defines a business key (also referred as natural key) for a dimension table. <p>For a slowly changing dimension, this is combination of key columns that uniquely identifies a row in the dimension (not a surrogate key), excluding record effective dates and/or current record flag</p></td>
</tr>
<tr>
<td>MERGE_ON_FIELDS</td>
<td>This is only applicable for MERGE command type. Here you specify columns that are to be used in generated MERGE SQL in the <strong>ON</strong> join clause. Multiple fields delimited by Pipe <strong>"|"</strong> symbol</td>
</tr>
<tr>
<td>GENERATE_MERGE_MATCHED_CLAUSE</td>
<td>This is only applicable for MERGE command type. Here you specify whether ON MATCHED CLAUSE is to be generated in generated MERGE DML. Accepted values are Y/N. When Y is selected, ON MATCHED CLAUSE is generated which runs an UPDATE operation</td>
</tr>
<tr>
<td>GENERATE_MERGE_NON_MATCHED_CLAUSE</td>
<td>This is only applicable for MERGE command type. Here you specify whether ON NOT MATCHED CLAUSE is to be generated in generated MERGE DML. Accepted values are Y/N. When Y is selected, ON NOT MATCHED CLAUSE is generated which runs an INSERT operation</td>
</tr>
<tr>
<td>ADDITIONAL_FIELDS</td>
<td>This is where you specify any additional columns/fields to be added to generated SELECT clause from source, which is not available in source. <p>E.g.</p><p>TO_NUMBER(:1) COBID</p><p>would add a column to generated SELECT statement, where it is transforming bind variable value passed in at run time, and aliased as COBID, which would then become part of INSERT/MERGE statement</p></td>
</tr>
<tr>
<td>TEMP_TABLE</td>
<td>Acceptable values - Y/N/NULL <p>When set to Y, this would trigger creating a temporary table with the same name as target in the same schema as target before the operation of the step is run.</p><p>This feature utilises special functionality that has been introduced in Snowflake, that you can have permanent (or transient) table and a temporary table with the same name and temporary table is then given priority in the current running session.</p><p>In TiPS we utilise this functionality where a data pipeline can be run concurrently withing multiple sessions with its own bind variables and dataset are consistently transformed and published at session level</td>
</tr>
<tr>
<td>CMD_PIVOT_BY</td>
<td>This is only applicable for COPY_INTO_FILE command type. If you are looking to apply a PIVOT in the SQL query in the COPY INTO statement, then this can be used. This field will dictate which column's values are to be pivoted e.g., REPORTING_CCY</td>
</tr>
<tr>
<td>CMD_PIVOT_FIELD</td>
<td>This is only applicable for COPY_INTO_FILE command type. If you are looking to apply a PIVOT in the SQL query in the COPY INTO statement, then this can be used. This field will be the aggregation of the field for the values which are included in the pivot e.g., SUM(REPORTING_CURRENCY)</td>
</tr>
<tr>
<td>ACTIVE</td>
<td>Active (Y) / Inactive (N) flag.<p> When set to N (inactive), data pipeline step can be disabled and TiPS will skip that step while execute the pipeline</td>
</tr>
<tr>
<td>FILE_FORMAT_NAME</td>
<td>This option is applicable to COPY_INTO_FILE and COPY_INTO_TABLE command types. <p>If a file format has been defined in the database, that can be used. <br><strong>Please include schema name with file format name e.g. [SCHEMA NAME].[FILE FORMAT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>COPY_INTO_FILE_PARITITION_BY</td>
<td>This option is applicable to COPY_INTO_FILE command type. This adds PARTITION BY clause in generated COPY INTO FILE command. COPY_INTO_FILE_PARITITION_BY field needs to be an SQL expression that outputs a string. The dataset specified by CMD_SRC will then be split into individual files based on the output of the expression. A directory will be created in the stage specified by CMD_TGT which will be named the same as the partition clause. The data will then be output into this location in the stage.</td>
</tr>
<tr>
<td>COPY_AUTO_MAPPING</td>
<td>Only applicable for COPY_INTO_TABLE command type with CSV source files. <p>Acceptable values - Y/N/NULL</p> <p>When set to 'Y', only fields that exist in both the source and target will be loaded. Source file must have a header. This option can be used to reorder fields from source file to target table or omit fields from the source.</p></td>
</tr>
<tr>
<td>COPY_INTO_FORCE</td>
<td>Only applicable for COPY_INTO_TABLE command type. <p>Acceptable values - Y/N/NULL</p><p>When set to 'Y', this option will include the FORCE = TRUE option on COPY INTO commands. Data is loaded regardless of whether source file is unchanged or data already exists in target table. Can produce duplicate data in target table </p></td>
</tr>
<tr>
<td>PARENT_PROCESS_CMD_ID</td>
<td>This is populated with PROCESS_CMD_ID of preceeding step. Where current step has multiple predecessors, pipe delimited PROCESS_CMD_ID should be entered. For steps with no preceding steps, "NONE" should be used as a DEFAULT value.</td>
</tr>
<tr>
<td>WAREHOUSE_SIZE</td>
<td>If a step requires a different warehouse size to run instead of the default one used to execute the process, then the warehouse size (t-shirt sizes) can be specified here. Expected value are NULL, "XS", "S", "M", "L", "XL", "2XL", "3XL", "4XL", "5XL", "6XL". At run time, this value is replaced with part of string following the last underscore in default warehouse name (used to execute the process). <p><em>This setting is only applicable when running process in parallel mode.</em></p></td>
</tr>
</tbody>
</table>
<h3 id="process_log">PROCESS_LOG</h3>
<p>This table holds logging information about each run of TiPS. This table is populated automatically at the end of execution of TiPS</p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PROCESS_LOG_ID</td>
<td>Sequentially generated ID</td>
</tr>
<tr>
<td>PROCESS_NAME</td>
<td>Name of Data Pipeline that has been executed.</td>
</tr>
<tr>
<td>PROCESS_LOG_CREATED_AT</td>
<td>Timestamp at which log records have been inserted to the table</td>
</tr>
<tr>
<td>PROCESS_START_TIME</td>
<td>Timestamp of start of execution of Data Pipeline</td>
</tr>
<tr>
<td>PROCESS_END_TIME</td>
<td>Timestamp of completion of execution of Data Pipeline</td>
</tr>
<tr>
<td>PROCESS_ELAPSED_TIME_IN_SECONDS</td>
<td>Total time (in seconds) taken in execution of Data Pipeline</td>
</tr>
<tr>
<td>EXECUTE_FLAG</td>
<td>Whether Data Pipeline was invoked with Execution Status. When EXECUTE_FLAG is passed as N, SQL statements are only generated and logged but not executed in the database</td>
</tr>
<tr>
<td>STATUS</td>
<td>Status of Data Pipeline Execution</td>
</tr>
<tr>
<td>ERROR_MESSAGE</td>
<td>If any steps errored, top level error message is populated here</td>
</tr>
<tr>
<td>LOG_JSON</td>
<td>Complete Log information of Data Pipeline in JSON format. View <code>VW_PROCESS_LOG</code> displays flattened information of this column</td>
</tr>
<tr>
<td>RUN_ID</td>
<td>Internal ID generated at process level. When process is execute in parallel mode, each step creates a record in PROCESS_LOG with a different PROCESS_LOG_ID, but maintaining the same RUN_ID</td>
</tr>
</tbody>
</table>
<h3 id="process_dq_test">PROCESS_DQ_TEST</h3>
<p>This table is populated with data relating to Data Quality Tests. This table is shipped with some standard DQ Test definitions.</p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PROCESS_DQ_TEST_ID</td>
<td>Sequentially generated ID</td>
</tr>
<tr>
<td>PROCESS_DQ_TEST_NAME</td>
<td>Uniquely identifiable Name for Data Quality Test</td>
</tr>
<tr>
<td>PROCESS_DQ_TEST_DESCRIPTION</td>
<td>Descriptive information about Data Quality Test</td>
</tr>
<tr>
<td>PROCESS_DQ_TEST_QUERY_TEMPLATE</td>
<td>Query template to be used when running Data Quality Test. Identifiers within curly braces <code>{}</code> are replaced with actual values at run time. Bind variables can also be specified inside curly braces, e.g. <code>{:1}</code>, which is then replaced by <a href="#process_cmd_tgt_dq_test">QUERY_BINDS in PROCESS_CMD_TGT_DQ_TEST</a> at runtime</td>
</tr>
<tr>
<td>PROCESS_DQ_TEST_ERROR_MESSAGE</td>
<td>Error Message to display when Test fails</td>
</tr>
<tr>
<td>ACTIVE</td>
<td>TRUE/FALSE<p> When FALSE, data quality test would not run</td>
</tr>
</tbody>
</table>
<h3 id="process_cmd_tgt_dq_test">PROCESS_CMD_TGT_DQ_TEST</h3>
<p>This is the table that you populate with the information to enforce a predefined Data Quality test to a target (table) and additionally an attribute (column) </p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PROCESS_CMD_TGT_DQ_TEST_ID</td>
<td>Sequentially generated ID</td>
</tr>
<tr>
<td>TGT_NAME</td>
<td>Specify the name of target on which Data Quality Test is to be run. <p>This is usually a table. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please.</strong></p><p>This should match target name defined on <code>PROCESS_CMD</code> table</td>
</tr>
<tr>
<td>ATTRIBUTE_NAME</td>
<td>Enter column name on which Data Quality Test is to be run</td>
</tr>
<tr>
<td>ACCEPTED_VALUES</td>
<td>For "Accepted Values" test, this should contain comma separated values that are acceptable in the target.<p>E.g.</p><p><code>'AFRICA','MIDDLE EAST','EUROPE','AMERICA'</code></p></td>
</tr>
<tr>
<td>ERROR_AND_ABORT</td>
<td>TRUE/FALSE, indicating whether the process (data pipeline) should produce error and abort execution when this data quality test fails. When FALSE, process would just log warning and process would continue</td>
</tr>
<tr>
<td>ACTIVE</td>
<td>TRUE/FALSE<p> When FALSE, data quality test would not run</td>
</tr>
<tr>
<td>QUERY_BINDS</td>
<td>Here you can enter any arbitriary bind values that you want to be used in query template. Multiple values can be entered delimited by pipe. Bind variable defined in <a href="#process_dq_test">PROCESS_DQ_TEST_QUERY_TEMPLATE in PROCESS_DQ_TEST</a> are replaced by these values in the sequence of order (starting from :1) at runtime</td>
</tr>
</tbody>
</table>
<h3 id="process_dq_log">PROCESS_DQ_LOG</h3>
<p>This table holds logging information about each Data Quality test expected withing a data pipeline when TiPS is run. This log is also associated to data in <code>PROCESS_LOG</code> table.</p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PROCESS_DQ_LOG_ID</td>
<td>Sequentially generated ID</td>
</tr>
<tr>
<td>PROCESS_LOG_ID</td>
<td>ID linking to record in <code>PROCESS_LOG</code> table</td>
</tr>
<tr>
<td>TGT_NAME</td>
<td>Name of target on which data quality test was executed</td>
</tr>
<tr>
<td>ATTRIBUTE_NAME</td>
<td>Attribute/Column on which data quality test was executed</td>
</tr>
<tr>
<td>DQ_TEST_NAME</td>
<td>Data Quality Test Name</td>
</tr>
<tr>
<td>DQ_TEST_QUERY</td>
<td>Transposed Query executed for the test</td>
</tr>
<tr>
<td>DQ_TEST_RESULT</td>
<td>Array of values causing failure. For successful test, it should be an empty array <code>[]</code></td>
</tr>
<tr>
<td>START_TIME</td>
<td>Timestamp of start of execution of DQ Test Query</td>
</tr>
<tr>
<td>END_TIME</td>
<td>Timestamp of completion of execution of DQ Test Query</td>
</tr>
<tr>
<td>ELAPSED_TIME_IN_SECONDS</td>
<td>Total time (in seconds) taken in execution of DQ Test Query</td>
</tr>
<tr>
<td>STATUS</td>
<td>Status [PASSED or ERROR or WARNING] of DQ Test</td>
</tr>
<tr>
<td>STATUS_MESSAGE</td>
<td>Warning or Error Message returned</td>
</tr>
<tr>
<td>RUN_ID</td>
<td>Internal ID generated at process level. When process is execute in parallel mode, each step creates a record in PROCESS_LOG with a different PROCESS_LOG_ID, but maintaining the same RUN_ID</td>
</tr>
</tbody>
</table>
<h2 id="command-types">Command Types</h2>
<h3 id="append">APPEND</h3>
<p>This effectively generates an "INSERT INTO [target table] ([columns]) SELECT [columns] FROM [source] additionally WHERE", if applicable</p>
<p>Following are the fields applicable for APPEND command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_SRC</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of source of data here. <p>This is usually a data table or a view that encapsulates the transformation business logic. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_TGT</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of target destination of data here. <p>This is usually a table. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_WHERE</td>
<td style="text-align: center;">No</td>
<td>This is where you can specify a filter clause that gets added to source as a WHERE clause at run time. <p><strong>WHERE</strong> keyword should not be included and numbered bind variables can be used for which actual bind replacements are mentioned in CMD_BINDS <br><strong>E.g.</br><p>"C_MKTSEGMENT = :2 AND COBID = :1"</strong></p>In the above example values for bind variables are passed at run time, and derivation of value for bind variable according to the sequence is derived from CMD_BINDS</p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td style="text-align: center;">No</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpreted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
<tr>
<td>ADDITIONAL_FIELDS</td>
<td style="text-align: center;">No</td>
<td>This is where you specify any additional columns/fields to be added to generated SELECT clause from source, which is not available in source. <p>E.g.</p><p>TO_NUMBER(:1) COBID</p><p>would add a column to generated SELECT statement, where it is transforming bind variable value passed in at run time, and aliased as COBID, which would then become part of INSERT/MERGE statement</p></td>
</tr>
<tr>
<td>TEMP_TABLE</td>
<td style="text-align: center;">No</td>
<td>Acceptable values - Y/N/NULL <p>When set to Y, this would trigger creating a temporary table with the same name as target in the same schema as target before the operation of the step is run.</p><p>This feature utilises special functionality that has been introduced in Snowflake, that you can have permanent (or transient) table and a temporary table with the same name and temporary table is then given priority in the current running session.</p><p>In TiPS we utilise this functionality where a data pipeline can be run concurrently withing multiple sessions with its own bind variables and dataset are consistently transformed and published at session level</p></td>
</tr>
</tbody>
</table>
<h3 id="copy_into_file">COPY_INTO_FILE</h3>
<p>This command type is for outputting data from a table/view into a file into an internal user stage or an internal named stage or an external stage.</p>
<p>Following are the fields applicable for COPY_INTO_FILE command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_SRC</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of source of data here. <p>This is usually a data table or a view that would provide data in desired form. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_TGT</td>
<td style="text-align: center;">Yes</td>
<td>This is the file location for outputting data from source to this file. If the PARTITION_CLAUSE is not being used, then the CMD_TGT should be the exact path and filename that should be created. <p>If the PARTTION_CLAUSE is being used, then this field should only contain a stage and a path.</p><p>For example, if the file should go into a user stage in the XYZ directory it should be @~/XYZ.</p><p>In both cases, it is permissible to use any BIND variables as part of the name i.e., @~/:1/XYZ would create a directory based on the first bind variable followed by XYZ.</p></td>
</tr>
<tr>
<td>CMD_WHERE</td>
<td style="text-align: center;">No</td>
<td>This is where you can specify a filter clause that gets added to source as a WHERE clause at run time. <p><strong>WHERE</strong> keyword should not be included and numbered bind variables can be used for which actual bind replacements are mentioned in CMD_BINDS <br><strong>E.g.</br><p>"C_MKTSEGMENT = :2 AND COBID = :1"</strong></p>In the above example values for bind variables are passed at run time, and derivation of value for bind variable according to the sequence is derived from CMD_BINDS</p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td style="text-align: center;">No</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpreted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
<tr>
<td>CMD_PIVOT_BY</td>
<td style="text-align: center;">No</td>
<td>If you are looking to apply a PIVOT in the SQL query in the COPY INTO statement, then this can be used. This field will dictate which column's values are to be pivoted e.g., REPORTING_CCY</td>
</tr>
<tr>
<td>CMD_PIVOT_FIELD</td>
<td style="text-align: center;">No</td>
<td>If you are looking to apply a PIVOT in the SQL query in the COPY INTO statement, then this can be used. This field will be the aggregation of the field for the values which are included in the pivot e.g., SUM(REPORTING_CURRENCY)</td>
</tr>
<tr>
<td>FILE_FORMAT_NAME</td>
<td style="text-align: center;">No</td>
<td>If a file format has been defined in the database with all applicable configurations, that this field can be used. <br><strong>Please include schema name with file format name e.g. [SCHEMA NAME].[FILE FORMAT NAME] and all in CAPS please</strong></br><p>If this field is omitted, then File Type "CSV" and compression "GZIP" is used by default</td>
</tr>
<tr>
<td>COPY_INTO_FILE_PARITITION_BY</td>
<td style="text-align: center;">No</td>
<td>This field is to be populated when you want to apply a PARTITION BY clause in generated COPY INTO FILE command. COPY_INTO_FILE_PARITITION_BY field needs to be an SQL expression that outputs a string. The dataset specified by CMD_SRC will then be split into individual files based on the output of the expression. A directory will be created in the stage specified by CMD_TGT which will be named the same as the partition clause.  The data will then be output into this location in the stage.</td>
</tr>
</tbody>
</table>
<h3 id="copy_into_table">COPY_INTO_TABLE</h3>
<p>This command type is for loading data from a staged file to the database table. Stage file can be stored in an internal user stage or an internal named stage or an external stage.</p>
<p>Following are the fields applicable for COPY_INTO_TABLE command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_SRC</td>
<td style="text-align: center;">Yes</td>
<td>This is the file location with data to be loaded. CMD_SRC should be the exact path and filename that should be loaded. <p>It is permissible to use any BIND variables as part of the name i.e., @~/:1/XYZ/ABC.csv would create a directory based on the first bind variable followed by XYZ.</p><p>E.g.,</p><p>@tips/EXTRACTS/:1/PUBLISH_CUSTOMER/CUSTOMER.csv</p><p>When using File Format, extension can be omitted</p></td>
</tr>
<tr>
<td>CMD_TGT</td>
<td style="text-align: center;">Yes</td>
<td>This is the name of table into which data from file is to be loaded<p><strong>Please include schema name along with table name, and all in CAPS</strong></p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td style="text-align: center;">No</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpreted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
<tr>
<td>FILE_FORMAT_NAME</td>
<td style="text-align: center;">No</td>
<td>If a file format has been defined in the database with all applicable configurations, that this field can be used. <br><strong>Please include schema name with file format name e.g. [SCHEMA NAME].[FILE FORMAT NAME] and all in CAPS please</strong></br><p>If this field is omitted, then File Type "CSV" and compression "GZIP" is used by default</td>
</tr>
<tr>
<td>COPY_AUTO_MAPPING</td>
<td style="text-align: center;">No</td>
<td><p>Acceptable values - Y/N/NULL</p> <p>When set to 'Y', only fields that exist in both the source file and target table will be loaded.  This option can be used to reorder fields from source file to target table or ommit fields from the source.</p><p> **NOTE: Source file must be a CSV with a header. **</td>
</tr>
<tr>
<td>COPY_INTO_FORCE</td>
<td style="text-align: center;">No</td>
<td><p>Acceptable values - Y/N/NULL</p><p>When set to 'Y', this option will include the FORCE = TRUE option on COPY INTO commands. Data is loaded regardless of whether source file is unchanged or data already exists in target table. Can produce duplicate data in target table </p></td>
</tr>
<tr>
<td>ADDITIONAL_FIELDS</td>
<td style="text-align: center;">No</td>
<td>Specify any additional columns/fields to be added to generated SELECT clause from source file, that are not available in source. <p>E.g.</p><p>TO_NUMBER(:1) COBID</p><p>would add a column to generated SELECT statement, where it is transforming bind variable value passed in at run time, and aliased as COBID, which would then become part of COPY INTO statement.</p><p> **NOTE: Source file must be a CSV. **</td>
</tr>
</tbody>
</table>
<h3 id="delete">DELETE</h3>
<p>This effectively generates a "DELETE FROM [target table] additionally WHERE", if applicable</p>
<p>Following are the fields applicable for DELETE command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_TGT</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of table from which data is to be deleted. <p><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_WHERE</td>
<td style="text-align: center;">No</td>
<td>This is where you can specify a filter clause that gets added as a WHERE clause at run time. <p><strong>WHERE</strong> keyword should not be included and numbered bind variables can be used for which actual bind replacements are mentioned in CMD_BINDS <br><strong>E.g.</br><p>"C_MKTSEGMENT = :2 AND COBID = :1"</strong></p>In the above example values for bind variables are passed at run time, and derivation of value for bind variable according to the sequence is derived from CMD_BINDS</p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td style="text-align: center;">No</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpreted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
</tbody>
</table>
<h3 id="dq_test">DQ_TEST</h3>
<p>This command type is for specifying Data Quality Tests within data pipeline. All active Data Quality Tests defined on the target that is specified here, are run within this step.</p>
<p>Following are the fields applicable for DQ_TEST command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_TGT</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of table/view on which data quality tests are to be run from which data is to be deleted.<br><p><em>This can also accept pipe delimited multiple targets, which gives a flexibility to define running of DQ Tests on multiple targets in a single step.</em></p><p><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_WHERE</td>
<td style="text-align: center;">No</td>
<td>This is where you can specify a filter clause that gets added as a WHERE clause at run time. <p><strong>WHERE</strong> keyword should not be included and numbered bind variables can be used for which actual bind replacements are mentioned in CMD_BINDS <br><strong>E.g.</br><p>"C_MKTSEGMENT = :2 AND COBID = :1"</strong></p>In the above example values for bind variables are passed at run time, and derivation of value for bind variable according to the sequence is derived from CMD_BINDS</p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td style="text-align: center;">No</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpreted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
</tbody>
</table>
<h3 id="merge">MERGE</h3>
<p>This command type is where we want to use a MERGE statement. It supports either WHEN MATCHED or WHEN NOT MATCHED or both.</p>
<p>Following are the fields applicable for MERGE command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_SRC</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of source of data here. <p>This is usually a data table or a view that encapculates the transformation business logic. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_TGT</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of target destination of data here. <p>This is usually a table. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_WHERE</td>
<td style="text-align: center;">No</td>
<td>This is where you can specify a filter clause that gets added to source as a WHERE clause at run time. <p><strong>WHERE</strong> keyword should not be included and numbered bind variables can be used for which actual bind replacements are mentioned in CMD_BINDS <br><strong>E.g.</br><p>"C_MKTSEGMENT = :2 AND COBID = :1"</strong></p>In the above example values for bind variables are passed at run time, and derivation of value for bind variable according to the sequence is derived from CMD_BINDS</p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td style="text-align: center;">No</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpreted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
<tr>
<td>MERGE_ON_FIELDS</td>
<td style="text-align: center;">Yes</td>
<td>Here you specify columns that are to be used in generated MERGE SQL in the <strong>ON</strong> join clause. Multiple fields delimited by Pipe <strong>"|"</strong> symbol</td>
</tr>
<tr>
<td>GENERATE_MERGE_MATCHED_CLAUSE</td>
<td style="text-align: center;">No</td>
<td>Acceptable values are Y/N. When set to Y, "WHEN MATCHED UPDATE" clause is added to generated MERGE statement<br><p><strong><em>Either this field or GENERATE_MERGE_NON_MATCHED_CLAUSE should be set to Y</em></strong></td>
</tr>
<tr>
<td>GENERATE_MERGE_NON_MATCHED_CLAUSE</td>
<td style="text-align: center;">No</td>
<td>Acceptable values are Y/N. When set to Y, "WHEN NOT MATCHED INSERT" clause is added to generated MERGE statement<br><p><strong><em>Either this field or GENERATE_MERGE_MATCHED_CLAUSE should be set to Y</em></strong></td>
</tr>
<tr>
<td>ADDITIONAL_FIELDS</td>
<td style="text-align: center;">No</td>
<td>This is where you specify any additional columns/fields to be added to generated SELECT clause from source, which is not available in source. <p>E.g.</p><p>TO_NUMBER(:1) COBID</p><p>would add a column to generated SELECT statement, where it is transforming bind variable value passed in at run time, and aliased as COBID, which would then become part of INSERT/MERGE statement</p></td>
</tr>
<tr>
<td>TEMP_TABLE</td>
<td style="text-align: center;">No</td>
<td>Acceptable values - Y/N/NULL <p>When set to Y, this would trigger creating a temporary table with the same name as target in the same schema as target before the operation of the step is run.</p><p>This feature utilises special functionality that has been introduced in Snowflake, that you can have permanent (or transient) table and a temporary table with the same name and temporary table is then given priority in the current running session.</p><p>In TiPS we utilise this functionality where a data pipeline can be run concurrently withing multiple sessions with its own bind variables and dataset are consistently transformed and published at session level</p></td>
</tr>
</tbody>
</table>
<h3 id="publish_scd2_dim">PUBLISH_SCD2_DIM</h3>
<p>This command type is specifically created for populating data to SCD (Slowly Changing Dimension) Type 2, where updates to attributes of dimension are handled by creating a version of record with latest values and closing off previous version. This is done by setting appropriate values to "EFFECTIVE_START_DATE", "EFFECTIVE_END_DATE" and "IS_CURRENT_ROW" columns.</p>
<p>Following are the fields applicable for PUBLISH_SCD2_DIM command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_SRC</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of source of data here. <p>This is usually a data table or a view that encapsulates the transformation business logic. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_TGT</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of target destination of data here. <p>This is usually a table. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>BUSINESS_KEY</td>
<td style="text-align: center;">Yes</td>
<td>It is column(s) delimitted by Pipe <strong>"|"</strong> symbol that define a business key (also referred as natural key) for a dimension table. <p>For a slowly changing dimension, this is combination of key columns that uniquely identifies a row in the dimension (not a surrogate key), excluding record effective dates and/or current record flag</td>
</tr>
<tr>
<td>CMD_WHERE</td>
<td style="text-align: center;">No</td>
<td>This is where you can specify a filter clause that gets added to source as a WHERE clause at run time. <p><strong>WHERE</strong> keyword should not be included and numbered bind variables can be used for which actual bind replacements are mentioned in CMD_BINDS <br><strong>E.g.</br><p>"C_MKTSEGMENT = :2 AND COBID = :1"</strong></p>In the above example values for bind variables are passed at run time, and derivation of value for bind variable according to the sequence is derived from CMD_BINDS</p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td style="text-align: center;">No</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpretted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
<tr>
<td>ADDITIONAL_FIELDS</td>
<td style="text-align: center;">No</td>
<td>This is where you specify any additional columns/fields to be added to generated SELECT clause from source, which is not available in source. <p>E.g.</p><p>TO_NUMBER(:1) COBID</p><p>would add a column to generated SELECT statement, where it is transforming bind variable value passed in at run time, and aliased as COBID, which would then become part of INSERT/MERGE statement</p></td>
</tr>
<tr>
<td>TEMP_TABLE</td>
<td style="text-align: center;">No</td>
<td>Acceptable values - Y/N/NULL <p>When set to Y, this would trigger creating a temporary table with the same name as target in the same schema as target, before the operation of the step is run.</p><p>This feature utilises special functionality that has been introduced in Snowflake, that you can have permanent(or transient) table and a temporary table with the same name and temporary table is then given priority in the current running session.</p><p>In TiPS we utilise this functionality where a data pipeline can be run concurrently withing multiple sessions with its own bind variables and dataset are consistently transformed and published at session level</p></td>
</tr>
</tbody>
</table>
<h3 id="refresh">REFRESH</h3>
<p>This command type is for running a DELETE/TRUNCATE SQL command on target and then consecutively running INSERT SQL command. REFRESH command type supports "DELETE then INSERT", "OVERWRITE INSERT" or "TRUNCATE then INSERT", one of which should be specified with "REFRESH_TYPE" field setting.</p>
<p>Following are the fields applicable for REFRESH command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_SRC</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of source of data here. <p>This is usually a data table or a view that encapsulates the transformation business logic. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_TGT</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of target destination of data here. <p>This is usually a table. <br><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>REFRESH_TYPE</td>
<td style="text-align: center;">Yes</td>
<td>Acceptable values are <strong>DI/TI/OI</strong> <p><strong>DI (Delete Insert)</strong> - Before inserting the data in target, a delete command is run (where optionally filter clause can be added through CMD_WHERE).</p><p><strong>TI (Truncate Insert)</strong> - Before inserting the data in target, truncate command on target is run.</p><p><strong>OI (Overwrite Insert)</strong> - Before inserting the data in target, any existing data is removed from target. This works similar to truncate, with the caveat that TRUNCATE is a DDL command invoking a commit to the transaction where OVERWRITE doesn't commits the transaction immediately after delete, thus tables is rolled back to previous state if INSERT DML throws an error.</td>
</tr>
<tr>
<td>CMD_WHERE</td>
<td style="text-align: center;">No</td>
<td>This is where you can specify a filter clause that gets added to source as a WHERE clause at run time. <p><strong>WHERE</strong> keyword should not be included and numbered bind variables can be used for which actual bind replacements are mentioned in CMD_BINDS <br><strong>E.g.</br><p>"C_MKTSEGMENT = :2 AND COBID = :1"</strong></p>In the above example values for bind variables are passed at run time, and derivation of value for bind variable according to the sequence is derived from CMD_BINDS</p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td style="text-align: center;">No</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpreted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
<tr>
<td>ADDITIONAL_FIELDS</td>
<td style="text-align: center;">No</td>
<td>This is where you specify any additional columns/fields to be added to generated SELECT clause from source, which is not available in source. <p>E.g.</p><p>TO_NUMBER(:1) COBID</p><p>would add a column to generated SELECT statement, where it is transforming bind variable value passed in at run time, and aliased as COBID, which would then become part of INSERT/MERGE statement</p></td>
</tr>
<tr>
<td>TEMP_TABLE</td>
<td style="text-align: center;">No</td>
<td>Acceptable values - Y/N/NULL <p>When set to Y, this would trigger creating a temporary table with the same name as target in the same schema as target before the operation of the step is run.</p><p>This feature utilises special functionality that has been introduced in Snowflake, that you can have permanent (or transient) table and a temporary table with the same name and temporary table is then given priority in the current running session.</p><p>In TiPS we utilise this functionality where a data pipeline can be run concurrently withing multiple sessions with its own bind variables and dataset are consistently transformed and published at session level</p></td>
</tr>
</tbody>
</table>
<h3 id="truncate">TRUNCATE</h3>
<p>This command type is for running TRUNCATE SQL command on the defined target.</p>
<p>Following are the fields applicable for TRUNCATE command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_TGT</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of table from which data is to be deleted. <p><strong>Please include schema name with the object name e.g. [SCHEMA NAME].[OBJECT NAME] and all in CAPS please</strong></p></td>
</tr>
</tbody>
</table>
<h3 id="proc">PROC</h3>
<p>This command type is for running 'call <proc>(<args>)' commands.</p>
<p>The following fields are applicable for the PROC command type:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th style="text-align: center;">Mandatory?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>CMD_SRC</td>
<td style="text-align: center;">Yes</td>
<td>Specify the name of the procedure here, referencing cmd_binds in the arguments if required. <p> e.g. SCHEMA1.PROC1(PARAM1 =&gt; \':1\', PARAM2 =&gt; :2)  <br><strong>Please include schema name with the procedure name e.g. [SCHEMA NAME].[PROCEDURE NAME] and all in CAPS please</strong></p></td>
</tr>
<tr>
<td>CMD_BINDS</td>
<td style="text-align: center;">No</td>
<td>If bind variables are used in the step, here you specify the name for bind variables, delimited by Pipe <strong>"|"</strong> symbol. In this case, CMD_BINDS can be passed to the procedure if referenced in CMD_SRC.  <p>Bind variable values are passed in at runtime in a JSON format. Names of bind variables defined here are interpreted as keys from the variable values JSON object passed in at run-time</p></td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 ProjectiveGroup UK
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "navigation.instant", "navigation.top"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../javascripts/tablesort.js"></script>
      
    
  </body>
</html>